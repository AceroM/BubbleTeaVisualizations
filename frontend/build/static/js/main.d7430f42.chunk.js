(window.webpackJsonpbubbleteavisualizations=window.webpackJsonpbubbleteavisualizations||[]).push([[0],{106:function(e,a,t){},107:function(e,a,t){},108:function(e,a,t){},109:function(e,a,t){},110:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(16),c=t.n(o),l=(t(54),t(17)),i=t(12),u=t(18),s=t(7),m=t(8),p=t(10),d=t(9),b=t(11),g=(t(27),t(40)),f=t(41),h=t(19),v=t.n(h),E=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(p.a)(this,Object(d.a)(a).call(this,e))).handleChange=function(e){t.setState({address:e})},t.handleSelect=function(e){Object(h.geocodeByAddress)(e).then((function(e){return Object(h.getLatLng)(e[0])})).then((function(e){t.setState({isRedirect:!0,lat:e.lat,lng:e.lng})})).catch((function(e){return console.error("Error",e)}))},t.state={address:"",isRedirect:!1,lat:"",lng:""},t}return Object(b.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){if(this.state.isRedirect){var e=this.state,a=e.lat,t=e.lng,n="/map?lat=".concat(a,"&lng=").concat(t);return r.a.createElement(i.a,{to:n})}return r.a.createElement(v.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect},(function(e){var a=e.getInputProps,t=e.suggestions,n=e.getSuggestionItemProps,o=e.loading;return r.a.createElement("div",null,r.a.createElement("input",Object.assign({className:"input-group-field",placeholder:"Enter your location",name:"location"},a(Object(u.a)({className:"input-group-field",name:"location",placeholder:"Search Places ..."},"className","location-search-input input-group-field")))),r.a.createElement("div",{className:"autocomplete-dropdown-container"},o&&r.a.createElement("div",null,"Loading..."),t.map((function(e){var a=e.active?"suggestion-item--active":"suggestion-item",t=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return r.a.createElement("div",n(e,{className:a,style:t}),r.a.createElement("span",null,e.description))}))))}))}}]),a}(r.a.Component),y=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(p.a)(this,Object(d.a)(a).call(this,e))).handleChange=function(e){t.setState(Object(u.a)({},e.target.name,e.target.value))},t.state={location:""},t}return Object(b.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){fetch("/yelp").then((function(e){return e.json()})).then((function(e){return console.log(e)}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"home-wrapper"},r.a.createElement("div",null,r.a.createElement("h1",null,"Find Bubble Tea Places Near You")),r.a.createElement("div",{className:"bmb-form-box"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-label"},r.a.createElement(g.a,{icon:f.a})),r.a.createElement(E,null)),r.a.createElement("input",{type:"submit",placeholder:"Enter your location",name:"location",className:"button primary white-color-text large",value:"Go"})),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null))}}]),a}(n.Component);var j=function(){return r.a.createElement("div",null," We can't find your tea :'(' ")},O=t(20),w=t(77).mapsKey,N=["rgba(0, 255, 255, 0)","rgba(0, 255, 255, 1)","rgba(0, 191, 255, 1)","rgba(0, 127, 255, 1)","rgba(0, 63, 255, 1)","rgba(0, 0, 255, 1)","rgba(0, 0, 223, 1)","rgba(0, 0, 191, 1)","rgba(0, 0, 159, 1)","rgba(0, 0, 127, 1)","rgba(63, 0, 91, 1)","rgba(127, 0, 63, 1)","rgba(191, 0, 31, 1)","rgba(255, 0, 0, 1)"],k=function(e){function a(e){return Object(s.a)(this,a),Object(p.a)(this,Object(d.a)(a).call(this,e))}return Object(b.a)(a,e),Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"map-container"},r.a.createElement(O.Map,{google:this.props.google,className:"map",zoom:this.props.zoom,initialCenter:this.props.center,onReady:this.handleMapReady},r.a.createElement(O.HeatMap,{gradient:N,positions:this.props.positions,opacity:1,radius:20})))}}]),a}(r.a.Component),x=Object(O.GoogleApiWrapper)({apiKey:w,libraries:["visualization"]})(k),R=t(26),C=t.n(R),S=t(44),M=t.n(S),B=(t(89),function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(p.a)(this,Object(d.a)(a).call(this,e))).state={data:[]},t}return Object(b.a)(a,e),Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=this,a=C.a.parse(window.location.search),t=[];fetch("/yelp?lat=".concat(a.lat,"&lng=").concat(a.lng)).then((function(e){return e.json()})).then((function(a){for(var n=0;n<a.length;n++){var r={lat:a[n].coordinates.latitude,lng:a[n].coordinates.longitude};t.push(r)}e.setState({data:t})}))}},{key:"render",value:function(){var e=C.a.parse(window.location.search),a=this.state.data;return a.length?r.a.createElement(x,{center:{lat:e.lat,lng:e.lng},zoom:12,positions:a}):r.a.createElement("div",{style:{width:"100vw",display:"flex",justifyContent:"center"}},r.a.createElement("img",{src:M.a}))}}]),a}(n.Component)),P=(t(106),t(39),t(47)),z=t(48),I=t(39),D=.03,W=940,A=600,L={x:W/2,y:A/2},J=I.scaleLinear().domain([7,15]).range(["#dcdbe8","#F0DFC5","#fbc4a7"]);function X(e){var a=e.data,t=Object(n.useState)([]),o=Object(z.a)(t,2),c=o[0],l=o[1];return Object(n.useEffect)((function(){!function(e,a){var t=I.forceSimulation().velocityDecay(.2).force("x",I.forceX().strength(D).x(L.x)).force("y",I.forceY().strength(D).y(L.y)).force("charge",I.forceManyBody().strength((function(e){return-Math.pow(e.radius,2)*D}))).on("tick",(function(){return a(e)})).stop();t.nodes(e),t.alpha(1).restart()}(function(e){var a=I.max(e,(function(e){return+e.value})),t=I.scalePow().exponent(.5).range([2,85]).domain([0,a]),n=e.map((function(e){return{name:e.name,value:e.value,radius:t(e.value),x:Math.random()*W,y:Math.random()*A}}));return n.sort((function(e,a){return a.value-e.value})),n}(a),(function(e){l((function(){return Object(P.a)(e)}))}))}),[a]),r.a.createElement("svg",{className:"bubbles",width:W,height:A},c.map((function(e){return r.a.createElement("circle",{key:e.name,r:e.radius,fill:J(e.value),stroke:I.rgb(J(e.value)).darker(),strokeWidth:2,cx:e.x,cy:e.y},r.a.createElement("title",null,e.name))})))}var Y=t(45),F=t.n(Y),T=t(46);var K=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"bubble"},r.a.createElement("div",{className:"bubble"},r.a.createElement("img",{className:"milk",src:F.a}),r.a.createElement("div",{className:"bubbles-container"},r.a.createElement(X,{data:T})))))};t(107);var G=function(e){var a=e.location.pathname.replace("/map/","");return r.a.createElement("div",{className:"body-wrapper"},r.a.createElement("h1",null,"Bubble Tea Flavor Popularity"),r.a.createElement(K,null),r.a.createElement("h1",null,"Bubble Tea Heatmap"),r.a.createElement(B,{location:a}))};t(108);var H=function(){return r.a.createElement("div",{className:"grid-container"},r.a.createElement("a",{href:"/"},r.a.createElement("img",{className:"logo",src:"/stateastics.png",alt:"logo"})))};t(109);var q=function(){return r.a.createElement("div",{className:"app"},r.a.createElement("div",{className:"body-wrapper"},r.a.createElement(H,null),r.a.createElement(l.a,null,r.a.createElement(i.d,null,r.a.createElement(i.b,{exact:!0,path:"/",component:y}),r.a.createElement(i.b,{path:"/map/:location",component:G}),r.a.createElement(i.b,{path:"/map",component:G}),r.a.createElement(l.a,{path:"/",component:j})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},27:function(e,a,t){},44:function(e,a,t){e.exports=t.p+"static/media/loading.4511a8b2.png"},45:function(e,a,t){e.exports=t.p+"static/media/milk.45691eb3.svg"},46:function(e){e.exports=JSON.parse('[{"name":"GraphRM","value":10},{"name":"RomaJS","value":13},{"name":"Rust Roma","value":7},{"name":"Lambda-Roma","value":15},{"name":"Blockchain Roma","value":15},{"name":"Machine Learning/Data Science Meetup","value":15},{"name":"DotNetCode","value":14},{"name":"Il Meetup WordPress di Roma","value":14},{"name":"AgileTalks","value":13},{"name":"Elixir-Roma","value":9}]')},49:function(e,a,t){e.exports=t(110)},54:function(e,a,t){},77:function(e){e.exports=JSON.parse('{"YELP_TOKEN":"bWEA1mx1RmtAy7OnR38cIb8oPN6R3kB-xSzkAQdYIMq6FBD8MCizHooXd0RCwK2CPB06I8HX5y9kLJm4Rwg1RTPe-o-fDnR1hdYYGoCWAhVk_XnzrIMwWS7z43x-XXYx","mapsKey":"AIzaSyBDIrx3RR4sdymqNtgSjRxaJXp0PmCx2kg"}')}},[[49,1,2]]]);
//# sourceMappingURL=main.d7430f42.chunk.js.map